# Go Site Clone

<div align="center">

![Go Version](https://img.shields.io/badge/Go-1.24+-00ADD8?style=flat&logo=go)
![Wails](https://img.shields.io/badge/Wails-3.0--alpha-DF5B00?style=flat)
![Nuxt](https://img.shields.io/badge/Nuxt-4.1.2-00DC82?style=flat&logo=nuxt.js)
![License](https://img.shields.io/badge/License-MIT-green?style=flat)

åŸºäº Wails3 + Nuxt.js å¼€å‘çš„ç½‘ç«™å…‹éš†ä¸æœ¬åœ°éƒ¨ç½²å·¥å…·

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [ä½¿ç”¨è¯´æ˜](#-ä½¿ç”¨è¯´æ˜) â€¢ [æŠ€æœ¯æ¶æ„](#-æŠ€æœ¯æ¶æ„) â€¢ [é…ç½®è¯´æ˜](#-é…ç½®è¯´æ˜)

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

Go Site Clone æ˜¯ä¸€æ¬¾å¼ºå¤§çš„ç½‘ç«™å…‹éš†å·¥å…·ï¼Œèƒ½å¤Ÿå®Œæ•´æŠ“å–ç½‘ç«™çš„æ‰€æœ‰èµ„æºï¼ˆHTMLã€CSSã€JavaScriptã€å›¾ç‰‡ã€è§†é¢‘ç­‰ï¼‰ï¼Œå¹¶æ”¯æŒæœ¬åœ°éƒ¨ç½²ã€‚é‡‡ç”¨çœŸå®æµè§ˆå™¨å¼•æ“è¿›è¡Œèµ„æºæŠ“å–ï¼Œé…å¤‡å®Œå–„çš„åæ£€æµ‹æœºåˆ¶å’Œæµè§ˆå™¨æŒ‡çº¹ä¼ªè£…ç³»ç»Ÿã€‚

### âœ¨ æ ¸å¿ƒäº®ç‚¹

- ğŸš€ **çœŸå®æµè§ˆå™¨å¼•æ“** - åŸºäº Chrome DevTools Protocolï¼Œæ¨¡æ‹ŸçœŸå®ç”¨æˆ·è¡Œä¸º
- ğŸ­ **æŒ‡çº¹ä¼ªè£…ç³»ç»Ÿ** - Canvas æŒ‡çº¹ã€æ—¶åŒºã€è¯­è¨€ã€UserAgent å…¨æ–¹ä½ä¼ªè£…
- ğŸ”„ **æ™ºèƒ½èµ„æºç®¡ç†** - è‡ªåŠ¨å»é‡ã€åŒåŸŸè¿‡æ»¤ã€åˆ†ç±»å­˜å‚¨
- ğŸ“¦ **å®Œæ•´ç«™ç‚¹å…‹éš†** - æ”¯æŒé™æ€èµ„æºã€åŠ¨æ€å†…å®¹çš„å®Œæ•´æŠ“å–
- ğŸ–¥ï¸ **è·¨å¹³å°æ”¯æŒ** - Windowsã€macOSã€Linux ä¸€é”®æ‰“åŒ…
- ğŸ’« **ç°ä»£åŒ–ç•Œé¢** - Nuxt.js + Ant Design Vue å“åº”å¼ UI
- ğŸŒ **æœ¬åœ°ç«™ç‚¹æœåŠ¡** - é›†æˆ Nginxï¼Œä¸€é”®å¯åŠ¨æœ¬åœ°é•œåƒç«™ç‚¹

---

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### èµ„æºæŠ“å–

- âœ… HTML é¡µé¢å®Œæ•´å…‹éš†
- âœ… CSS æ ·å¼è¡¨æ‰¹é‡ä¸‹è½½
- âœ… JavaScript è„šæœ¬æ–‡ä»¶æŠ“å–
- âœ… å›¾ç‰‡èµ„æºï¼ˆJPGã€PNGã€GIFã€SVGã€WebPï¼‰
- âœ… è§†é¢‘æ–‡ä»¶ï¼ˆMP4ã€WebM ç­‰ï¼‰
- âœ… å­—ä½“æ–‡ä»¶å’Œå…¶ä»–é™æ€èµ„æº
- âœ… æ™ºèƒ½é“¾æ¥éå†ï¼ˆç«™å†…é“¾æ¥è‡ªåŠ¨è·Ÿè¸ªï¼‰

### åæ£€æµ‹æŠ€æœ¯

- ğŸ­ Canvas æŒ‡çº¹éšæœºåŒ–
- ğŸŒ æ—¶åŒºæ¨¡æ‹Ÿï¼ˆæ”¯æŒå…¨çƒæ—¶åŒºï¼‰
- ğŸ—£ï¸ è¯­è¨€å’Œåœ°åŸŸä¼ªè£…
- ğŸ” UserAgent å®šåˆ¶
- ğŸ“ åœ°ç†ä½ç½®åæ ‡ä¼ªè£…
- ğŸ•µï¸ Stealth æ’ä»¶é›†æˆï¼ˆç»•è¿‡åçˆ¬è™«æ£€æµ‹ï¼‰

### æ–‡ä»¶ç®¡ç†

- ğŸ“ æŒ‰åŸŸåè‡ªåŠ¨åˆ†ç±»å­˜å‚¨
- ğŸ” èµ„æºç±»å‹åˆ†ç±»ç®¡ç†
- ğŸ“Š ä¸‹è½½è¿›åº¦å®æ—¶æ˜¾ç¤º
- ğŸ—‚ï¸ æœ¬åœ°ç«™ç‚¹åˆ—è¡¨æŸ¥çœ‹
- ğŸ“‚ ä¸€é”®æ‰“å¼€æ–‡ä»¶å¤¹

### æœ¬åœ°éƒ¨ç½²

- ğŸŒ é›†æˆ Nginx æœåŠ¡å™¨
- âš¡ å¿«é€Ÿå¯åŠ¨æœ¬åœ°é•œåƒç«™ç‚¹
- ğŸ”§ è‡ªå®šä¹‰ç«¯å£é…ç½®
- ğŸ“ ç«™ç‚¹é…ç½®ç®¡ç†

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Go 1.24 æˆ–æ›´é«˜ç‰ˆæœ¬
- Node.js 18+ å’Œ npm/pnpm
- Wails CLI v3

### å®‰è£…ä¾èµ–

#### 1. å®‰è£… Wails CLI

```bash
go install github.com/wailsapp/wails/v3/cmd/wails3@latest
```

#### 2. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/zhuy1228/go-site-clone.git
cd go-site-clone
```

#### 3. å®‰è£… Go ä¾èµ–

```bash
go mod download
```

#### 4. å®‰è£…å‰ç«¯ä¾èµ–

```bash
cd frontend
npm install
# æˆ–ä½¿ç”¨ pnpm
pnpm install
```

### å¼€å‘æ¨¡å¼

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰
wails3 dev
```

åº”ç”¨å°†åœ¨å¼€å‘æ¨¡å¼ä¸‹å¯åŠ¨ï¼Œå‰åç«¯ä¿®æ”¹ä¼šè‡ªåŠ¨é‡è½½ã€‚

### ç”Ÿäº§æ„å»º

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
wails3 build

# æ„å»ºäº§ç‰©ä½äº build/ ç›®å½•
```

---

## ğŸ“š ä½¿ç”¨è¯´æ˜

### åŸºæœ¬ä½¿ç”¨æµç¨‹

1. **å¯åŠ¨åº”ç”¨**
   ```bash
   wails3 dev  # æˆ–è¿è¡Œæ‰“åŒ…åçš„å¯æ‰§è¡Œæ–‡ä»¶
   ```

2. **è¾“å…¥ç›®æ ‡ç½‘ç«™ URL**
   - åœ¨ç•Œé¢ä¸­è¾“å…¥è¦å…‹éš†çš„ç½‘ç«™åœ°å€
   - ä¾‹å¦‚ï¼š`https://example.com`

3. **è·å–èµ„æºåˆ—è¡¨**
   - ç‚¹å‡»ã€Œè·å–èµ„æºã€æŒ‰é’®
   - ç³»ç»Ÿè‡ªåŠ¨åˆ†æç«™ç‚¹å¹¶åˆ—å‡ºæ‰€æœ‰èµ„æº

4. **ä¸‹è½½ç«™ç‚¹**
   - é€‰æ‹©éœ€è¦ä¸‹è½½çš„èµ„æºç±»å‹
   - ç‚¹å‡»ã€Œä¸‹è½½ã€å¼€å§‹å…‹éš†
   - å®æ—¶æŸ¥çœ‹ä¸‹è½½è¿›åº¦

5. **æœ¬åœ°é¢„è§ˆ**
   - ä»ä¸‹è½½åˆ—è¡¨ä¸­é€‰æ‹©ç«™ç‚¹
   - ç‚¹å‡»ã€Œæ‰“å¼€æ–‡ä»¶å¤¹ã€æŸ¥çœ‹æ–‡ä»¶
   - æˆ–ä½¿ç”¨é›†æˆçš„ Nginx æœåŠ¡è¿›è¡Œæœ¬åœ°éƒ¨ç½²

### é…ç½®æ–‡ä»¶è¯´æ˜

ç¼–è¾‘ `config.yaml` è‡ªå®šä¹‰é…ç½®ï¼š

```yaml
# åº”ç”¨åç§°
appName: "Go Site Clone"

# æœ¬åœ°æœåŠ¡ç«¯å£
port: 6997

# WebSocket è¿æ¥åœ°å€
wsUrl: "106.12.33.188:6996"

# STUN æœåŠ¡å™¨åœ°å€
stunUrl: "stun:106.12.33.188:3478"

# API æœåŠ¡åœ°å€
apiUrl: "http://106.12.33.188:6996"

# ç½‘ç«™æ–‡ä»¶ä¿å­˜ç›®å½•
siteFileDir: "www"
```

### API æ¥å£

åº”ç”¨æš´éœ²ä»¥ä¸‹æ–¹æ³•ä¾›å‰ç«¯è°ƒç”¨ï¼š

#### `GetResources(url string)`
è·å–æŒ‡å®š URL çš„æ‰€æœ‰èµ„æºåˆ—è¡¨

**å‚æ•°:**
- `url`: ç›®æ ‡ç½‘ç«™åœ°å€

**è¿”å›:** `ResourcesList` å¯¹è±¡ï¼ŒåŒ…å«åˆ†ç±»èµ„æº

#### `DownloadSite(uri string, resources ResourcesList)`
ä¸‹è½½ç½‘ç«™èµ„æºåˆ°æœ¬åœ°

**å‚æ•°:**
- `uri`: ç½‘ç«™åœ°å€
- `resources`: èµ„æºåˆ—è¡¨å¯¹è±¡

**è¿”å›:** `bool` - ä¸‹è½½æ˜¯å¦æˆåŠŸ

#### `GetDownloadList()`
è·å–å·²ä¸‹è½½çš„ç½‘ç«™åˆ—è¡¨

**è¿”å›:** `[]FileDir` - æ–‡ä»¶ç›®å½•åˆ—è¡¨

#### `OpenSiteFileDir(path string)`
æ‰“å¼€æŒ‡å®šç½‘ç«™çš„æ–‡ä»¶å¤¹

**å‚æ•°:**
- `path`: ç›¸å¯¹è·¯å¾„

**è¿”å›:** `bool` - æ“ä½œæ˜¯å¦æˆåŠŸ

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ

**åç«¯ (Go)**
- [Wails v3](https://wails.io/) - åº”ç”¨æ¡†æ¶
- [go-rod](https://github.com/go-rod/rod) - æµè§ˆå™¨è‡ªåŠ¨åŒ–
- [go-rod/stealth](https://github.com/go-rod/stealth) - åæ£€æµ‹
- [goquery](https://github.com/PuerkitoBio/goquery) - HTML è§£æ
- [go-sqlite3](https://github.com/mattn/go-sqlite3) - æ•°æ®åº“
- [yaml.v3](https://github.com/go-yaml/yaml) - é…ç½®ç®¡ç†

**å‰ç«¯ (Nuxt.js)**
- [Nuxt 4](https://nuxt.com/) - Vue æ¡†æ¶
- [Vue 3](https://vuejs.org/) - å“åº”å¼æ¡†æ¶
- [Ant Design Vue](https://antdv.com/) - UI ç»„ä»¶åº“
- [Chart.js](https://www.chartjs.org/) - å›¾è¡¨åº“
- [Wails Runtime](https://wails.io/) - å‰åç«¯é€šä¿¡

### é¡¹ç›®ç»“æ„

```
go-site-clone/
â”œâ”€â”€ app.go                      # åº”ç”¨ä¸»é€»è¾‘
â”œâ”€â”€ main.go                     # ç¨‹åºå…¥å£
â”œâ”€â”€ config.yaml                 # é…ç½®æ–‡ä»¶
â”œâ”€â”€ go.mod                      # Go æ¨¡å—ä¾èµ–
â”‚
â”œâ”€â”€ config/                     # é…ç½®åŠ è½½æ¨¡å—
â”‚   â””â”€â”€ index.go
â”‚
â”œâ”€â”€ services/                   # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”œâ”€â”€ site_service.go        # ç½‘ç«™å…‹éš†æ ¸å¿ƒæœåŠ¡
â”‚   â””â”€â”€ nginx_service.go       # Nginx æœåŠ¡ç®¡ç†
â”‚
â”œâ”€â”€ libs/                       # æ ¸å¿ƒåº“
â”‚   â”œâ”€â”€ browser.go             # æµè§ˆå™¨æ± ç®¡ç†
â”‚   â”œâ”€â”€ chrome.go              # Chrome å®ä¾‹åˆ›å»º
â”‚   â”œâ”€â”€ sqlite.go              # æ•°æ®åº“æ“ä½œ
â”‚   â”œâ”€â”€ pack.go                # æ‰“åŒ…å·¥å…·
â”‚   â””â”€â”€ browser-fingerprint/   # æµè§ˆå™¨æŒ‡çº¹ä¼ªè£…
â”‚       â”œâ”€â”€ index.go
â”‚       â”œâ”€â”€ canvas.go          # Canvas æŒ‡çº¹
â”‚       â””â”€â”€ timezone.go        # æ—¶åŒºæ¨¡æ‹Ÿ
â”‚
â”œâ”€â”€ types/                      # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ fingerprint_type.go    # æŒ‡çº¹å‚æ•°ç±»å‹
â”‚   â”œâ”€â”€ task_type.go           # ä»»åŠ¡ç±»å‹
â”‚   â””â”€â”€ nginx_template.go      # Nginx æ¨¡æ¿
â”‚
â”œâ”€â”€ utils/                      # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ file.go                # æ–‡ä»¶ä¸‹è½½/ç®¡ç†
â”‚   â””â”€â”€ index.go               # ç¯å¢ƒæ£€æŸ¥
â”‚
â”œâ”€â”€ frontend/                   # Nuxt.js å‰ç«¯
â”‚   â”œâ”€â”€ nuxt.config.ts         # Nuxt é…ç½®
â”‚   â”œâ”€â”€ package.json           # å‰ç«¯ä¾èµ–
â”‚   â”œâ”€â”€ app/                   # åº”ç”¨ä»£ç 
â”‚   â”‚   â”œâ”€â”€ app.vue           # æ ¹ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ components/       # Vue ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/            # é¡µé¢è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ layouts/          # å¸ƒå±€æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ plugins/          # æ’ä»¶
â”‚   â””â”€â”€ bindings/              # Go ç»‘å®šç±»å‹
â”‚
â”œâ”€â”€ user-data/                  # æµè§ˆå™¨ç”¨æˆ·æ•°æ®
â”œâ”€â”€ www/                        # ç½‘ç«™æ–‡ä»¶å­˜å‚¨ç›®å½•
â”œâ”€â”€ plugin/                     # æ’ä»¶
â”‚   â””â”€â”€ nginx/                 # Nginx æ’ä»¶
â””â”€â”€ build/                      # æ„å»ºé…ç½®
    â”œâ”€â”€ darwin/                # macOS æ‰“åŒ…é…ç½®
    â”œâ”€â”€ linux/                 # Linux æ‰“åŒ…é…ç½®
    â””â”€â”€ windows/               # Windows æ‰“åŒ…é…ç½®
```

### æ ¸å¿ƒæ¨¡å—è¯´æ˜

#### 1. æµè§ˆå™¨ç®¡ç† (`libs/browser.go`)
- æµè§ˆå™¨å®ä¾‹æ± åŒ–
- å¹¶å‘å®‰å…¨çš„è¯»å†™é”
- è‡ªåŠ¨åˆ›å»ºå’Œé”€æ¯

#### 2. ç½‘ç«™å…‹éš†æœåŠ¡ (`services/site_service.go`)
- èµ„æºæŠ“å–å¼•æ“
- æ™ºèƒ½é“¾æ¥éå†
- èµ„æºå»é‡å’Œè¿‡æ»¤

#### 3. æŒ‡çº¹ä¼ªè£… (`libs/browser-fingerprint/`)
- Canvas æŒ‡çº¹éšæœºåŒ–
- æ—¶åŒºå’Œè¯­è¨€æ¨¡æ‹Ÿ
- UserAgent å®šåˆ¶

#### 4. æ–‡ä»¶ç®¡ç† (`utils/file.go`)
- æ–‡ä»¶ä¸‹è½½å’Œå­˜å‚¨
- ç›®å½•ç»“æ„ç®¡ç†
- æ–‡ä»¶åˆ—è¡¨æŸ¥è¯¢

---

## âš™ï¸ é…ç½®è¯´æ˜

### æµè§ˆå™¨æŒ‡çº¹é…ç½®

```go
type BrowserFingerprintParams struct {
    Canvas      bool   // æ˜¯å¦éšæœºåŒ– Canvas æŒ‡çº¹
    TimeZone    string // æ—¶åŒºï¼Œå¦‚ "America/New_York"
    Language    string // è¯­è¨€ï¼Œå¦‚ "en-US"
    UserAgent   string // è‡ªå®šä¹‰ UserAgent
    GeoLocation string // åœ°ç†ä½ç½®ï¼Œå¦‚ "40.7128,-74.0060"
}
```

### ä»»åŠ¡å‚æ•°é…ç½®

```go
type TaskParams struct {
    URL         string              // ç›®æ ‡ç½‘ç«™ URL
    Fingerprint BrowserFingerprintParams // æŒ‡çº¹å‚æ•°
    Proxy       string              // ä»£ç†åœ°å€ï¼ˆå¯é€‰ï¼‰
}
```

---

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½

1. **åç«¯æœåŠ¡**
   - åœ¨ `services/` ç›®å½•åˆ›å»ºæ–°æœåŠ¡
   - å®ç°ä¸šåŠ¡é€»è¾‘
   - åœ¨ `app.go` ä¸­æš´éœ²æ–¹æ³•ç»™å‰ç«¯

2. **å‰ç«¯ç•Œé¢**
   - åœ¨ `frontend/app/pages/` æ·»åŠ æ–°é¡µé¢
   - åœ¨ `frontend/app/components/` æ·»åŠ ç»„ä»¶
   - ä½¿ç”¨ Wails Runtime è°ƒç”¨åç«¯æ–¹æ³•

### è°ƒè¯•æŠ€å·§

```bash
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
wails3 dev -v

# æ„å»ºæ—¶æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
wails3 build -v

# æ¸…ç†æ„å»ºç¼“å­˜
wails3 build -clean
```

### æµ‹è¯•

```bash
# è¿è¡Œ Go æµ‹è¯•
go test ./...

# è¿è¡Œå‰ç«¯æµ‹è¯•ï¼ˆå¦‚æœé…ç½®ï¼‰
cd frontend
npm test
```

---

## ğŸ“¦ æ‰“åŒ…éƒ¨ç½²

### Windows

```bash
wails3 build -platform windows/amd64
```

ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä½äº `build/bin/`

### macOS

```bash
wails3 build -platform darwin/universal
```

ç”Ÿæˆ `.app` åº”ç”¨åŒ…

### Linux

```bash
wails3 build -platform linux/amd64
```

æ”¯æŒç”Ÿæˆ `.deb`ã€`.rpm`ã€AppImage ç­‰æ ¼å¼

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## ğŸ™ è‡´è°¢

- [Wails](https://wails.io/) - å‡ºè‰²çš„ Go + Web æ¡†æ¶
- [go-rod](https://go-rod.github.io/) - å¼ºå¤§çš„æµè§ˆå™¨è‡ªåŠ¨åŒ–å·¥å…·
- [Nuxt.js](https://nuxt.com/) - ä¼˜é›…çš„ Vue æ¡†æ¶
- [Ant Design Vue](https://antdv.com/) - ç²¾ç¾çš„ UI ç»„ä»¶åº“

---

## ğŸ“ è”ç³»æ–¹å¼

- ä½œè€…: zhuy1228
- é¡¹ç›®é“¾æ¥: [https://github.com/zhuy1228/go-site-clone](https://github.com/zhuy1228/go-site-clone)

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ª â­ï¸**

Made with â¤ï¸ by zhuy1228

</div>
